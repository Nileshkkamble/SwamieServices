---
const latitude = 19.19121;
const longitude = 72.87409;
const locationName = "Swami Online Services, Mumbai";
---

<div class="map-container">
  <h2>{locationName}</h2>
  <div id="map" class="map"></div>

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <script type="module" is:client>
    import * as L from "https://unpkg.com/leaflet@1.9.4/dist/leaflet-src.esm.js";

    const latitude = 19.19121;
    const longitude = 72.87409;
    const locationName = "Swami Online Services, Mumbai";

    window.addEventListener("DOMContentLoaded", () => {
      const map = L.map("map").setView([latitude, longitude], 13);

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution:
          '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
      }).addTo(map);

      L.marker([latitude, longitude])
        .addTo(map)
        .bindPopup(locationName)
        .openPopup();
    });
  </script>

  <style>
    .map-container {
      text-align: center;
      margin: 1rem 0;
    }

    .map-container h2 {
      margin-bottom: 1rem;
    }

    .map {
      width: 100%;
      height: 400px; /* MUST have explicit height */
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
    }

    @media (max-width: 600px) {
      .map {
        height: 300px;
      }
    }
  </style>
</div>
